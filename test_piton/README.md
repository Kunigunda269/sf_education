# Python Test Task

## Описание проекта
Этот проект представляет собой stateless чат-агента, который отвечает на сообщения пользователя и возвращает текущее время в формате ISO-8601 при соответствующем запросе.

## Особенности
- Stateless архитектура (нет сохранения состояния)
- Интеграция с OpenAI GPT-3.5-turbo
- Автоматическое определение запросов о времени
- Обработка ошибок и повторные попытки
- Подробное логирование
- Типобезопасность
- Unit-тесты

## Требования
- Python 3.8+
- OpenAI API ключ
- Виртуальное окружение (рекомендуется)

## Установка зависимостей
1. Создайте виртуальное окружение:
   ```bash
   python -m venv .venv
   source .venv/bin/activate  # для Linux/Mac
   .venv\Scripts\activate     # для Windows
   ```
2. Установите зависимости:
   ```bash
   pip install -r requirements.txt
   ```
3. Создайте файл `.env` в корневой директории проекта и добавьте ваш OpenAI API ключ:
   ```
   OPENAI_API_KEY=your_api_key_here
   ```

## Запуск проекта
Для запуска проекта используйте команду:
```bash
langgraph dev
```

## Тестирование
1. Запустите тесты:
   ```bash
   python -m unittest test_main.py
   ```
2. Проверьте работу агента:
   - Запустите проект
   - Введите сообщение "What time is it?" для проверки работы агента
   - Агент должен вернуть текущее время в формате ISO-8601
   - Для выхода введите "exit" или "quit"

## Структура проекта
```
.
├── main.py           # Основной код приложения
├── test_main.py      # Unit-тесты
├── utils.py          # Утилиты и константы
├── requirements.txt  # Зависимости
└── README.md         # Документация
```

## Конфигурация
Основные параметры конфигурации находятся в классе `Config` в файле `main.py`:
- `MODEL`: Модель OpenAI (по умолчанию "gpt-3.5-turbo")
- `TEMPERATURE`: Температура для генерации ответов (0)
- `MAX_RETRIES`: Максимальное количество попыток при ошибках (3)
- `RETRY_DELAY`: Задержка между попытками в секундах (1)
- `TIMEOUT`: Таймаут для API запросов в секундах (30)
- `MAX_TOKENS`: Максимальное количество токенов в ответе (1000)

## Обработка ошибок
Проект включает обработку следующих типов ошибок:
- Отсутствие API ключа
- Ошибки сети
- Таймауты
- Ошибки API
- Невалидные сообщения

## Логирование
Логи сохраняются с указанием:
- Времени события
- Уровня логирования
- Имени модуля
- Сообщения

## Примечания
- Проект использует GPT-3.5-turbo для обработки сообщений
- Время возвращается в UTC формате
- Агент не сохраняет историю сообщений (stateless)
- Все ошибки логируются для отладки 